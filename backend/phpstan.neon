
parameters:
    level: 10
    paths:
        - src
        - tests

    # Exclude certain files/directories
    excludePaths:
        - src/Kernel.php
        - var/
        - vendor/
        - public/
        - migrations/
        - src/Lib/

    # Error reporting & strict checks
    reportUnmatchedIgnoredErrors: true
    checkTooWideReturnTypesInProtectedAndPublicMethods: true
    checkUninitializedProperties: true
    checkMissingCallableSignature: true
    checkMissingVarTagTypehint: true
    checkMissingOverrideMethodAttribute: true
    checkExplicitMixed: true
    checkImplicitMixed: true
    checkBenevolentUnionTypes: true
    polluteScopeWithAlwaysIterableForeach: true
    treatPhpDocTypesAsCertain: false
    
    # Advanced strictness  
    checkDynamicProperties: true
    checkClassCaseSensitivity: true
    checkFunctionNameCase: true
    checkInternalClassCaseSensitivity: true
    
    # Parallel processing optimized
    parallel:
        jobSize: 16
        maximumNumberOfProcesses: 8
        minimumNumberOfJobsPerProcess: 2
    
    # Cache optimization
    tmpDir: var/cache/phpstan
    
    # Universal object crates
    universalObjectCratesClasses:
        - stdClass
        - App\ValueObject\GenericData
        
    # Type aliases for cleaner code
    typeAliases:
        UserId: 'positive-int'
        TrackId: 'non-empty-string'
        PlaylistId: 'non-empty-string'
        
    # Ignore patterns (minimal - prefer baseline)
    ignoreErrors:
        # Test-specific ignores
        - identifier: property.uninitialized
          path: tests/
        - identifier: function.alreadyNarrowedType
          path: tests/bootstrap.php
        - identifier: if.condNotBoolean
          path: tests/bootstrap.php
        - identifier: staticMethod.dynamicCall
          path: tests/
